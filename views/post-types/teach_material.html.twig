{% extends "post-types/page.html.twig" %}

{% block article_content %}
    <!-- VYUKOVY MATERIAL -->

    {% if post.meta('_youtube_video_url') %}
        <div class="row my-2">
            <div class="col-12 col-md-2 d-flex flex-column align-items-center justify-content-center">
                {% for symbol in post.difficultySymbols %}
                    <div class="p-4">
                        <img src="{{ get_image(symbol.symbol).src }}" class="img-fluid" alt="Náročnost experimentu">
                    </div>
                {% endfor %}
            </div>
            <div class="col-12 col-md-8">
                <div class="w-100 ratio ratio-16x9">
                    <!--suppress HtmlDeprecatedAttribute -->
                    <iframe class="w-100"
                            src="https://www.youtube.com/embed/{{ post.meta('_youtube_video_url') }}"
                            title="{{ post.title }}"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen>
                    </iframe>
                </div>
            </div>
            <div class="col-12 col-md-2 d-flex flex-column align-items-center justify-content-center">
                {% for symbol in post.safetySymbols %}
                    <div class="p-4">
                        <img src="{{ get_image(symbol.symbol).src }}" class="img-fluid" alt="Bezpečnostní pokyny">
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    {% if (post.content|default and post.content|length > 0) or (content|default and content|length > 0) %}
        <div class="row my-5">
            <div class="col-12 text-justify">
                {{ post.content|default(content|default) }}
            </div>
        </div>
    {% endif %}
    <div class="row my-5">
        {% if post.presentations|length > 0 %}
            <div class="col-12">
                <h3>Prezentace</h3>
                <ul>
                    {% for document in post.presentations %}
                        <li>
                            <strong>
                                <a href="{{ get_attachment(document.document_file).src }}" target="_blank">
                                    {{ document.document_name }}
                                </a>
                            </strong>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        {% if post.handouts|length > 0 %}
            <div class="col-12">
                <h3>Pracovní listy</h3>
                <ul>
                    {% for document in post.handouts %}
                        <li>
                            <strong>
                                <a href="{{ get_attachment(document.document_file).src }}" target="_blank">
                                    {{ document.document_name }}
                                </a>
                            </strong>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    </div>
    {% if post.tabs|length > 0 %}
        <nav class="nav row p-0 rounded-tabs" id="nav-tab">
            {% set iter = 0 %}
            {% for index, tab in post.tabs %}
                {% set active = iter < 1 ? 'active' : '' %}
                <button class="rounded-tab col m-0 mt-3 mx-1 px-5 px-xl-4 py-2 border border-2 border-primary {{ active }}"
                        id="nav-tab-{{ index }}"
                        data-bs-toggle="tab"
                        data-bs-target="#nav-{{ index }}"
                        type="button"
                        role="tab"
                        aria-controls="nav-{{ index }}"
                        aria-selected="{{ iter < 1 ? 'true' : 'false' }}">
                    {{ tab.tab_title }}
                </button>
                {% set iter = iter + 1 %}
            {% endfor %}
        </nav>
        <section class="row my-5">
            <div class="tab-content col-12" id="nav-tabContent">
                {% set iter = 0 %}
                {% for index, tab in post.tabs %}
                    <div class="tab-pane fade {{ iter < 1 ? ' show active' : '' }}"
                         id="nav-{{ index }}"
                         role="tabpanel"
                         aria-labelledby="nav-tab-{{ iter }}">
                        {{ tab.tab_content }}
                    </div>
                    {% set iter = iter + 1 %}
                {% endfor %}
            </div>
        </section>
    {% endif %}
{% endblock article_content %}

{% block article_signpost %}
{% endblock article_signpost %}
