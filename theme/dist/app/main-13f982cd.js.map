{"version":3,"sources":["webpack:///./theme/scripts/main.js"],"names":["elements","Swiper","observer","observeParents","direction","centeredSlides","loop","allowTouchMove","freeMode","pagination","el","clickable","navigation","nextEl","prevEl","on","paginationUpdate","initializedSwiper","swiperContainer","colors","querySelectorAll","forEach","swiperSlide","level","push","dataset","Number","parseInt","console","log","bullet","index","classList","add","getInfo","processFormula","table","formula","innerHTML","sum","tableHead","document","createElement","tableBody","tableFoot","analyseMF","ea","part","element","symbol","find","getElement","row","countCell","innerText","number","toFixed","appendChild","elementCell","massCell","mass","massSumCell","window","addEventListener","molcalc","querySelector","event","target","value","TomSelect","plugins","create","onItemAdd","this","setTextboxValue","refreshOptions","controlInput"],"mappings":"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","file":"app/main-13f982cd.js","sourcesContent":["// noinspection ES6UnusedImports,JSUnusedLocalSymbols\n// noinspection ES6CheckImport\nimport * as bootstrap from 'bootstrap';\nimport Swiper from 'swiper/bundle';\nimport '../styles/main.scss';\nimport { analyseMF, getInfo } from 'chemcalc';\nimport TomSelect from 'tom-select';\n\nconst swiper = new Swiper('.swiper-container', {\n    observer: true,\n    observeParents: true,\n    direction: 'horizontal',\n    centeredSlides: true,\n    loop: false,\n    allowTouchMove: false,\n    freeMode: false,\n    pagination: {\n        el: '.swiper-pagination',\n        clickable: true,\n    },\n    navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n    },\n    on: {\n        paginationUpdate: function (initializedSwiper) {\n            initSwiper(initializedSwiper.el);\n        },\n    },\n});\n\nconst elements = getInfo().elements;\n\nfunction getElement(symbol)\n{\n    const element = elements.find(el => el.symbol === symbol);\n    console.log('For', symbol, 'its', element);\n\n    return element;\n}\n\n// noinspection JSUnresolvedVariable\nfunction processFormula(table, formula)\n{\n    table.innerHTML = '';\n\n    let sum = 0;\n\n    const tableHead = document.createElement('thead');\n    const tableBody = document.createElement('tbody');\n    const tableFoot = document.createElement('tfoot');\n\n    tableHead.innerHTML = `<tr class=\"text-center\">\n            <td>Počet atomů</td>\n            <td>Prvek</td>\n            <td>A<sub>r</sub> prvku </td>\n            <td>M<sub>r</sub> mezisoučet </td>\n        </tr>`;\n\n  // noinspection JSUnresolvedVariable\n    analyseMF(formula).ea.forEach(part => {\n        const element = getElement(part.element);\n        const row = document.createElement('tr');\n\n        const countCell = document.createElement('td');\n        countCell.classList.add('text-center');\n        countCell.innerText = Number(part.number).toFixed(1);\n        row.appendChild(countCell);\n\n        const elementCell = document.createElement('td');\n        elementCell.classList.add('text-center');\n        elementCell.innerText = part.element;\n        row.appendChild(elementCell);\n\n        const massCell = document.createElement('td');\n        massCell.classList.add('text-end');\n        massCell.innerText = Number(element.mass).toFixed(3);\n        row.appendChild(massCell);\n\n        const massSumCell = document.createElement('td');\n        massSumCell.classList.add('text-end');\n        massSumCell.innerText = (Number(part.number) * Number(element.mass)).toFixed(3);\n        row.appendChild(massSumCell);\n\n        tableBody.appendChild(row);\n        sum += (Number(part.number) * Number(element.mass));\n    });\n\n    tableFoot.innerHTML = `<tr>\n            <td colspan=\"3\">Relativní molekulová hmotnost</td>\n            <td class=\"text-end\"><strong>${sum.toFixed(3)}</strong></td>\n        </tr>`;\n\n    table.appendChild(tableHead);\n    table.appendChild(tableBody);\n    table.appendChild(tableFoot);\n}\n\nfunction initCalcs()\n{\n    document.querySelectorAll('.molcalc').forEach(molcalc => {\n        const table = molcalc.querySelector('.molcalc_table');\n        molcalc.querySelector('.molcalc_formula').addEventListener('change', event => {\n            processFormula(table, event.target.value);\n        });\n    });\n}\n\nfunction initSelects()\n{\n    const tomSelect = new TomSelect('#categories', {\n        plugins: ['remove_button'],\n        create: true,\n        onItemAdd: function () {\n            this.setTextboxValue('');\n            this.refreshOptions();\n        },\n    });\n    const tomSelect2 = new TomSelect('#level', {\n        create: true,\n        controlInput: null,\n        onItemAdd: function () {\n            this.setTextboxValue('');\n            this.refreshOptions();\n        },\n    });\n}\n\nfunction getLevelBackgroundClass(level)\n{\n    if (Number.parseInt(level) < 3) {\n        return 'bg-success';\n    }\n    if (Number.parseInt(level) < 5) {\n        return 'bg-warning';\n    }\n    if (Number.parseInt(level) >= 5) {\n        return 'bg-danger';\n    }\n\n    return 'bg-primary';\n}\n\nfunction initSwiper(swiperContainer)\n{\n    const colors = [];\n    swiperContainer.querySelectorAll('.swiper-slide').forEach(swiperSlide => {\n        colors.push(getLevelBackgroundClass(swiperSlide.dataset.level ?? 'level-attr-is-unknown'));\n        console.log('Get level attr: ', swiperSlide.dataset.level ?? '[]');\n    });\n    swiperContainer.querySelectorAll('.swiper-pagination-bullet').forEach((bullet, index) => {\n        bullet.classList.add(colors[index] ?? 'level-class-is-unknown');\n        console.log('Get level color: ', colors[index] ?? '[]');\n    });\n}\n\nwindow.addEventListener('load', () => {\n    initCalcs();\n    initSelects();\n});\n\n"],"sourceRoot":""}